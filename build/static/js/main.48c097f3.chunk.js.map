{"version":3,"sources":["components/Person.js","services/persons.js","components/Persons.js","components/Filter.js","components/PersonForm.js","App.js","index.js"],"names":["Person","props","name","number","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Persons","persons","setPersons","filterTerm","setType","setMessage","shown","forEach","person","i","toLowerCase","includes","console","log","concat","map","ppl","key","onClick","window","confirm","personService","filter","removePerson","people","Filter","value","onChange","event","target","setFilterTerm","PersonForm","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","preventDefault","findIndex","newPerson","returnedPerson","catch","error","setTimeout","type","Notification","message","className","App","useEffect","all","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.48c097f3.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = (props) => {\n  return (\n    <>\n      {props.name} {props.number}\n    </>\n  )\n}\n\nexport default Person","import axios from 'axios'\nconst baseUrl = '/api/persons'\n//const baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  const req = axios.get(baseUrl)\n  return (req.then(response => response.data))\n}\n\nconst create = (newObject) => {\n  const req = axios.post(baseUrl, newObject)\n  return (req.then(response => response.data))\n}\n\nconst update = (id, newObject) => {\n  const req = axios.put(`${baseUrl}/${id}`, newObject)\n  return (req.then(response => response.data))\n}\n\nconst remove = (id) => {\n  const req = axios.delete(`${baseUrl}/${id}`)\n  return(req.then(response => response.data))\n}\n\nexport default { getAll, create, remove, update }","import React from 'react'\nimport Person from './Person'\nimport personService from '../services/persons'\n\nconst Persons = ({ persons, setPersons, filterTerm, setType, setMessage}) => {\n\n  const removePerson = (ppl) => {\n    let confirmed = window.confirm(`Delete ${ppl.name}`)\n    if (confirmed) {\n      personService.remove(ppl.id).then(() => {\n        console.log(`${ppl.id} removed`)\n        setPersons(persons.filter(person => person.id !== ppl.id))\n        console.log(persons)\n      })\n      setType('success')\n      setMessage(`Deleted ${ppl.name}`)\n    } else {\n      console.log(\"Didn't delete\")\n    }\n  }\n\n  const people = () => {\n    let shown = []\n    persons.forEach((person, i) => {\n      if (person.name.toLowerCase().includes(filterTerm.toLowerCase())) {\n        console.log(person.name)\n        shown = shown.concat(person)\n        console.log(shown)\n      }\n    });\n    console.log(shown)\n    return (shown.map(ppl => <li key={ppl.id}><Person name={ppl.name} number={ppl.number} /> <button onClick={() => removePerson(ppl)}>delete</button> </li>))\n  }\n\n  return (\n    <div>\n      <ul>\n        {people()}\n      </ul>\n    </div>\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst Filter = (props) => {\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    props.setFilterTerm(event.target.value)\n  }\n\n  return (\n    <div>\n      <form>\n        <div>\n          filter shown with <input value={props.filterTerm} onChange={handleFilterChange}/>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default Filter","import React, { useState } from 'react'\nimport personService from '../services/persons'\n\nconst PersonForm = ({ persons, setPersons, setType, setMessage }) => {\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    let i = persons.findIndex(person => person.name === newName)\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    console.log(i)\n\n    if (i < 0) {\n      console.log('add', newName)\n\n      personService.create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n        })\n\n      setType('success')\n      setMessage(`Added ${newName}`)\n      setNewName('')\n      setNewNumber('')\n    } else if (!persons.map(ppl => ppl.number).includes(newNumber)) {\n      //window.alert(`${newName} is already added to phonebook`)\n      let confirmed = window.confirm(`${newName} is already added to the phonebook, do you wish to replace the old number with the new one?`)\n      if (confirmed) {\n        let id = persons[i].id\n        personService\n          .update(id, newPerson).then(newPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : newPerson))\n            setMessage(`Changed number of ${newName}`)\n          })\n          .catch(error => {\n            setType('error')\n            setMessage(\n              `Person ${newName} was already removed from server`\n            )\n            setPersons(persons.filter(person => person.id !== id))\n          })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n\n        setNewName('')\n        setNewNumber('')\n      }\n    }\n  }\n\n  const handleNameChange = (event) => {\n    //console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    //console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm';\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ filterTerm, setFilterTerm] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ type, setType ] = useState('')\n\n  useEffect(() => {\n    //console.log('effect')\n    personService.getAll().then(all => {\n      setPersons(all)\n    })\n  }, [])\n\n  console.log(persons)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} type={type}/>\n\n      <Filter persons={persons} filterTerm={filterTerm} setFilterTerm={setFilterTerm}/>\n\n      <h2>add new</h2>\n      <PersonForm persons={persons} setPersons={setPersons} setType={setType} setMessage={setMessage}/>\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} setPersons={setPersons} filterTerm={filterTerm} setType={setType} setMessage={setMessage}/>\n    </div>\n  )\n}\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null\n  } else {\n    return (\n      <div className={type}>\n        {message}\n      </div>\n    )\n  }\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}